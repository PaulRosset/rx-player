{"id":"../../../utils/event_emitter.ts","dependencies":[{"name":"/home/prosset/Documents/Canal+/rx-player/tsconfig.json","includedInParent":true,"mtime":1567699906905},{"name":"/home/prosset/Documents/Canal+/rx-player/package.json","includedInParent":true,"mtime":1571390912278},{"name":"rxjs","loc":{"line":21,"column":23},"parent":"/home/prosset/Documents/Canal+/rx-player/src/utils/event_emitter.ts","resolved":"/home/prosset/Documents/Canal+/rx-player/node_modules/rxjs/_esm5/index.js"},{"name":"../log","loc":{"line":22,"column":38},"parent":"/home/prosset/Documents/Canal+/rx-player/src/utils/event_emitter.ts","resolved":"/home/prosset/Documents/Canal+/rx-player/src/log.ts"}],"generated":{"js":"\"use strict\";\n/**\n * Copyright 2015 CANAL+ Group\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar rxjs_1 = require(\"rxjs\");\n\nvar log_1 = __importDefault(require(\"../log\"));\n/**\n * Simple but fully type-safe EventEmitter implementation.\n * @class EventEmitter\n */\n\n\nvar EventEmitter =\n/*#__PURE__*/\nfunction () {\n  function EventEmitter() {\n    _classCallCheck(this, EventEmitter);\n\n    this._listeners = {};\n  }\n  /**\n   * Register a new callback for an event.\n   *\n   * @param {string} evt - The event to register a callback to\n   * @param {Function} fn - The callback to call as that event is triggered.\n   * The callback will take as argument the eventual payload of the event\n   * (single argument).\n   */\n\n\n  _createClass(EventEmitter, [{\n    key: \"addEventListener\",\n    value: function addEventListener(evt, fn) {\n      var listeners = this._listeners[evt];\n\n      if (!listeners) {\n        this._listeners[evt] = [fn];\n      } else {\n        listeners.push(fn);\n      }\n    }\n    /**\n     * Unregister callbacks linked to events.\n     * @param {string} [evt] - The event for which the callback[s] should be\n     * unregistered. Set it to null or undefined to remove all callbacks\n     * currently registered (for any event).\n     * @param {Function} [fn] - The callback to unregister. If set to null\n     * or undefined while the evt argument is set, all callbacks linked to that\n     * event will be unregistered.\n     */\n\n  }, {\n    key: \"removeEventListener\",\n    value: function removeEventListener(evt, fn) {\n      if (evt == null) {\n        this._listeners = {};\n        return;\n      }\n\n      var listeners = this._listeners[evt];\n\n      if (!listeners) {\n        return;\n      }\n\n      if (fn == null) {\n        delete this._listeners[evt];\n        return;\n      }\n\n      var index = listeners.indexOf(fn);\n\n      if (~index) {\n        listeners.splice(index, 1);\n      }\n\n      if (!listeners.length) {\n        delete this._listeners[evt];\n      }\n    }\n    /**\n     * Trigger every registered callbacks for a given event\n     * @param {string} evt - The event to trigger\n     * @param {*} arg - The eventual payload for that event. All triggered\n     * callbacks will recieve this payload as argument.\n     */\n\n  }, {\n    key: \"trigger\",\n    value: function trigger(evt, arg) {\n      var listeners = this._listeners[evt];\n\n      if (!listeners) {\n        return;\n      }\n\n      listeners.slice().forEach(function (listener) {\n        try {\n          listener(arg);\n        } catch (e) {\n          log_1.default.error(e, e.stack);\n        }\n      });\n    }\n  }]);\n\n  return EventEmitter;\n}();\n\nexports.default = EventEmitter;\n/**\n * Simple redefinition of the fromEvent from rxjs to also work on our\n * implementation of EventEmitter with type-checked strings\n * @param {Object} target\n * @param {string} eventName\n * @returns {Observable}\n */\n\nfunction fromEvent(target, eventName) {\n  return new rxjs_1.Observable(function (obs) {\n    function handler(event) {\n      obs.next(event);\n    }\n\n    target.addEventListener(eventName, handler);\n    return function () {\n      target.removeEventListener(eventName, handler);\n    };\n  });\n}\n\nexports.fromEvent = fromEvent;"},"sourceMaps":{"js":{"mappings":[{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":2,"column":0}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":17,"column":0},"generated":{"line":34,"column":0}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":17,"column":0},"generated":{"line":34,"column":4}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":17,"column":0},"generated":{"line":34,"column":10}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":17,"column":0},"generated":{"line":34,"column":13}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":17,"column":0},"generated":{"line":34,"column":20}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":17,"column":0},"generated":{"line":34,"column":21}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":17,"column":0},"generated":{"line":34,"column":27}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":17,"column":0},"generated":{"line":34,"column":28}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":21,"column":0},"generated":{"line":36,"column":0}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":21,"column":0},"generated":{"line":36,"column":4}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":21,"column":0},"generated":{"line":36,"column":9}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":21,"column":0},"generated":{"line":36,"column":12}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":21,"column":0},"generated":{"line":36,"column":27}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":21,"column":0},"generated":{"line":36,"column":28}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":21,"column":0},"generated":{"line":36,"column":35}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":21,"column":0},"generated":{"line":36,"column":36}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":21,"column":0},"generated":{"line":36,"column":44}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":21,"column":0},"generated":{"line":36,"column":45}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":21,"column":0},"generated":{"line":36,"column":46}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":46,"column":0},"generated":{"line":37,"column":0}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":50,"column":21},"generated":{"line":43,"column":4}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":57,"column":2},"generated":{"line":46,"column":0}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":57,"column":2},"generated":{"line":46,"column":26}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":57,"column":2},"generated":{"line":47,"column":0}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":58,"column":4},"generated":{"line":49,"column":0}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":58,"column":9},"generated":{"line":49,"column":9}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":58,"column":4},"generated":{"line":49,"column":19}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":58,"column":22},"generated":{"line":49,"column":22}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":58,"column":4},"generated":{"line":49,"column":24}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":59,"column":3},"generated":{"line":50,"column":0}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":61,"column":2},"generated":{"line":51,"column":0}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":70,"column":4},"generated":{"line":63,"column":37}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":71,"column":4},"generated":{"line":63,"column":42}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":71,"column":33},"generated":{"line":63,"column":46}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":73,"column":4},"generated":{"line":64,"column":0}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":73,"column":10},"generated":{"line":64,"column":10}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":73,"column":19},"generated":{"line":64,"column":19}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":73,"column":22},"generated":{"line":64,"column":22}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":73,"column":27},"generated":{"line":64,"column":27}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":73,"column":22},"generated":{"line":64,"column":37}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":73,"column":38},"generated":{"line":64,"column":38}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":73,"column":22},"generated":{"line":64,"column":41}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":73,"column":4},"generated":{"line":64,"column":42}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":74,"column":4},"generated":{"line":66,"column":0}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":74,"column":8},"generated":{"line":66,"column":10}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":74,"column":9},"generated":{"line":66,"column":11}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":74,"column":4},"generated":{"line":66,"column":20}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":74,"column":20},"generated":{"line":66,"column":22}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":75,"column":6},"generated":{"line":67,"column":0}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":75,"column":11},"generated":{"line":67,"column":13}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":75,"column":6},"generated":{"line":67,"column":23}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":75,"column":22},"generated":{"line":67,"column":24}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":75,"column":6},"generated":{"line":67,"column":27}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":75,"column":29},"generated":{"line":67,"column":31}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":75,"column":30},"generated":{"line":67,"column":32}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":75,"column":29},"generated":{"line":67,"column":34}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":75,"column":6},"generated":{"line":67,"column":35}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":76,"column":5},"generated":{"line":68,"column":0}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":74,"column":4},"generated":{"line":68,"column":7}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":76,"column":11},"generated":{"line":68,"column":13}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":77,"column":6},"generated":{"line":69,"column":0}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":77,"column":6},"generated":{"line":69,"column":8}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":77,"column":15},"generated":{"line":69,"column":17}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":77,"column":16},"generated":{"line":69,"column":18}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":77,"column":6},"generated":{"line":69,"column":22}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":77,"column":21},"generated":{"line":69,"column":23}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":77,"column":6},"generated":{"line":69,"column":25}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":78,"column":5},"generated":{"line":70,"column":0}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":79,"column":3},"generated":{"line":71,"column":0}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":81,"column":2},"generated":{"line":72,"column":0}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":91,"column":4},"generated":{"line":84,"column":40}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":92,"column":4},"generated":{"line":84,"column":45}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":92,"column":34},"generated":{"line":84,"column":49}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":94,"column":4},"generated":{"line":85,"column":0}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":94,"column":8},"generated":{"line":85,"column":10}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":94,"column":11},"generated":{"line":85,"column":13}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":94,"column":15},"generated":{"line":85,"column":17}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":94,"column":4},"generated":{"line":85,"column":21}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":94,"column":21},"generated":{"line":85,"column":23}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":95,"column":6},"generated":{"line":86,"column":0}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":95,"column":11},"generated":{"line":86,"column":13}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":95,"column":6},"generated":{"line":86,"column":23}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":95,"column":24},"generated":{"line":86,"column":26}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":95,"column":6},"generated":{"line":86,"column":28}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":96,"column":6},"generated":{"line":87,"column":0}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":97,"column":5},"generated":{"line":88,"column":0}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":99,"column":4},"generated":{"line":90,"column":0}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":99,"column":10},"generated":{"line":90,"column":10}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":99,"column":19},"generated":{"line":90,"column":19}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":99,"column":22},"generated":{"line":90,"column":22}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":99,"column":27},"generated":{"line":90,"column":27}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":99,"column":22},"generated":{"line":90,"column":37}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":99,"column":38},"generated":{"line":90,"column":38}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":99,"column":22},"generated":{"line":90,"column":41}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":99,"column":4},"generated":{"line":90,"column":42}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":100,"column":4},"generated":{"line":92,"column":0}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":100,"column":8},"generated":{"line":92,"column":10}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":100,"column":9},"generated":{"line":92,"column":11}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":100,"column":4},"generated":{"line":92,"column":20}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":100,"column":20},"generated":{"line":92,"column":22}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":101,"column":6},"generated":{"line":93,"column":0}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":102,"column":5},"generated":{"line":94,"column":0}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":103,"column":4},"generated":{"line":96,"column":0}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":103,"column":8},"generated":{"line":96,"column":10}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":103,"column":10},"generated":{"line":96,"column":12}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":103,"column":14},"generated":{"line":96,"column":16}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":103,"column":4},"generated":{"line":96,"column":20}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":103,"column":20},"generated":{"line":96,"column":22}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":104,"column":6},"generated":{"line":97,"column":0}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":104,"column":13},"generated":{"line":97,"column":15}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":104,"column":18},"generated":{"line":97,"column":20}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":104,"column":13},"generated":{"line":97,"column":30}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":104,"column":29},"generated":{"line":97,"column":31}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":104,"column":13},"generated":{"line":97,"column":34}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":104,"column":6},"generated":{"line":97,"column":35}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":105,"column":6},"generated":{"line":98,"column":0}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":106,"column":5},"generated":{"line":99,"column":0}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":108,"column":4},"generated":{"line":101,"column":0}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":108,"column":10},"generated":{"line":101,"column":10}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":108,"column":15},"generated":{"line":101,"column":15}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":108,"column":18},"generated":{"line":101,"column":18}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":108,"column":27},"generated":{"line":101,"column":27}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":108,"column":28},"generated":{"line":101,"column":28}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":108,"column":18},"generated":{"line":101,"column":35}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":108,"column":36},"generated":{"line":101,"column":36}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":108,"column":18},"generated":{"line":101,"column":38}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":108,"column":4},"generated":{"line":101,"column":39}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":109,"column":4},"generated":{"line":103,"column":0}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":109,"column":8},"generated":{"line":103,"column":10}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":109,"column":9},"generated":{"line":103,"column":11}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":109,"column":4},"generated":{"line":103,"column":16}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":109,"column":16},"generated":{"line":103,"column":18}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":110,"column":6},"generated":{"line":104,"column":0}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":110,"column":6},"generated":{"line":104,"column":8}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":110,"column":15},"generated":{"line":104,"column":17}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":110,"column":16},"generated":{"line":104,"column":18}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":110,"column":6},"generated":{"line":104,"column":24}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":110,"column":23},"generated":{"line":104,"column":25}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":110,"column":6},"generated":{"line":104,"column":30}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":110,"column":30},"generated":{"line":104,"column":32}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":110,"column":6},"generated":{"line":104,"column":33}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":111,"column":5},"generated":{"line":105,"column":0}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":113,"column":4},"generated":{"line":107,"column":0}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":113,"column":8},"generated":{"line":107,"column":10}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":113,"column":9},"generated":{"line":107,"column":11}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":113,"column":18},"generated":{"line":107,"column":20}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":113,"column":19},"generated":{"line":107,"column":21}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":113,"column":4},"generated":{"line":107,"column":27}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":113,"column":27},"generated":{"line":107,"column":29}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":114,"column":6},"generated":{"line":108,"column":0}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":114,"column":13},"generated":{"line":108,"column":15}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":114,"column":18},"generated":{"line":108,"column":20}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":114,"column":13},"generated":{"line":108,"column":30}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":114,"column":29},"generated":{"line":108,"column":31}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":114,"column":13},"generated":{"line":108,"column":34}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":114,"column":6},"generated":{"line":108,"column":35}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":115,"column":5},"generated":{"line":109,"column":0}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":116,"column":3},"generated":{"line":110,"column":0}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":118,"column":2},"generated":{"line":111,"column":0}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":125,"column":4},"generated":{"line":120,"column":28}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":126,"column":4},"generated":{"line":120,"column":33}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":126,"column":30},"generated":{"line":120,"column":38}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":128,"column":4},"generated":{"line":121,"column":0}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":128,"column":10},"generated":{"line":121,"column":10}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":128,"column":19},"generated":{"line":121,"column":19}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":128,"column":22},"generated":{"line":121,"column":22}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":128,"column":27},"generated":{"line":121,"column":27}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":128,"column":22},"generated":{"line":121,"column":37}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":128,"column":38},"generated":{"line":121,"column":38}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":128,"column":22},"generated":{"line":121,"column":41}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":128,"column":4},"generated":{"line":121,"column":42}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":129,"column":4},"generated":{"line":123,"column":0}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":129,"column":8},"generated":{"line":123,"column":10}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":129,"column":9},"generated":{"line":123,"column":11}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":129,"column":4},"generated":{"line":123,"column":20}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":129,"column":20},"generated":{"line":123,"column":22}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":130,"column":6},"generated":{"line":124,"column":0}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":131,"column":5},"generated":{"line":125,"column":0}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":133,"column":4},"generated":{"line":127,"column":0}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":133,"column":4},"generated":{"line":127,"column":6}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":133,"column":13},"generated":{"line":127,"column":15}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":133,"column":14},"generated":{"line":127,"column":16}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":133,"column":4},"generated":{"line":127,"column":21}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":133,"column":22},"generated":{"line":127,"column":24}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":133,"column":4},"generated":{"line":127,"column":31}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":133,"column":30},"generated":{"line":127,"column":32}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":133,"column":31},"generated":{"line":127,"column":42}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":133,"column":30},"generated":{"line":127,"column":50}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":133,"column":43},"generated":{"line":127,"column":52}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":134,"column":6},"generated":{"line":128,"column":0}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":134,"column":10},"generated":{"line":128,"column":12}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":135,"column":8},"generated":{"line":129,"column":0}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":135,"column":8},"generated":{"line":129,"column":10}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":135,"column":16},"generated":{"line":129,"column":18}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":135,"column":17},"generated":{"line":129,"column":19}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":135,"column":16},"generated":{"line":129,"column":22}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":135,"column":8},"generated":{"line":129,"column":23}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":136,"column":7},"generated":{"line":130,"column":0}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":134,"column":6},"generated":{"line":130,"column":9}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":136,"column":8},"generated":{"line":130,"column":10}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":136,"column":15},"generated":{"line":130,"column":17}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":136,"column":8},"generated":{"line":130,"column":18}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":136,"column":18},"generated":{"line":130,"column":20}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":137,"column":8},"generated":{"line":131,"column":0}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":137,"column":8},"generated":{"line":131,"column":10}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":137,"column":8},"generated":{"line":131,"column":15}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":137,"column":8},"generated":{"line":131,"column":16}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":137,"column":8},"generated":{"line":131,"column":23}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":137,"column":12},"generated":{"line":131,"column":24}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":137,"column":8},"generated":{"line":131,"column":29}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":137,"column":18},"generated":{"line":131,"column":30}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":137,"column":8},"generated":{"line":131,"column":31}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":137,"column":21},"generated":{"line":131,"column":33}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":137,"column":22},"generated":{"line":131,"column":34}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":137,"column":23},"generated":{"line":131,"column":35}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":137,"column":8},"generated":{"line":131,"column":40}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":138,"column":7},"generated":{"line":132,"column":0}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":139,"column":5},"generated":{"line":133,"column":0}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":133,"column":4},"generated":{"line":133,"column":7}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":140,"column":3},"generated":{"line":134,"column":0}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":140,"column":0}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":140,"column":7}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":140,"column":8}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":140,"column":15}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":140,"column":18}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":140,"column":30}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":143,"column":0},"generated":{"line":141,"column":0}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":150,"column":0},"generated":{"line":149,"column":0}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":150,"column":16},"generated":{"line":149,"column":9}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":150,"column":0},"generated":{"line":149,"column":18}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":151,"column":2},"generated":{"line":149,"column":19}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":150,"column":0},"generated":{"line":149,"column":25}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":152,"column":2},"generated":{"line":149,"column":27}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":150,"column":0},"generated":{"line":149,"column":36}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":152,"column":24},"generated":{"line":149,"column":38}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":154,"column":2},"generated":{"line":150,"column":0}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":154,"column":9},"generated":{"line":150,"column":9}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":154,"column":13},"generated":{"line":150,"column":13}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":154,"column":13},"generated":{"line":150,"column":19}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":154,"column":13},"generated":{"line":150,"column":20}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":154,"column":9},"generated":{"line":150,"column":30}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":154,"column":24},"generated":{"line":150,"column":31}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":154,"column":25},"generated":{"line":150,"column":41}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":154,"column":24},"generated":{"line":150,"column":44}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":154,"column":65},"generated":{"line":150,"column":46}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":155,"column":4},"generated":{"line":151,"column":0}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":155,"column":13},"generated":{"line":151,"column":13}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":155,"column":4},"generated":{"line":151,"column":20}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":155,"column":21},"generated":{"line":151,"column":21}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":155,"column":4},"generated":{"line":151,"column":26}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":155,"column":49},"generated":{"line":151,"column":28}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":156,"column":6},"generated":{"line":152,"column":0}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":156,"column":6},"generated":{"line":152,"column":6}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":156,"column":9},"generated":{"line":152,"column":9}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":156,"column":10},"generated":{"line":152,"column":10}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":156,"column":6},"generated":{"line":152,"column":14}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":156,"column":15},"generated":{"line":152,"column":15}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":156,"column":6},"generated":{"line":152,"column":20}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":157,"column":5},"generated":{"line":153,"column":0}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":158,"column":4},"generated":{"line":155,"column":0}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":158,"column":4},"generated":{"line":155,"column":4}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":158,"column":10},"generated":{"line":155,"column":10}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":158,"column":11},"generated":{"line":155,"column":11}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":158,"column":4},"generated":{"line":155,"column":27}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":158,"column":28},"generated":{"line":155,"column":28}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":158,"column":4},"generated":{"line":155,"column":37}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":158,"column":39},"generated":{"line":155,"column":39}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":158,"column":4},"generated":{"line":155,"column":46}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":159,"column":4},"generated":{"line":156,"column":0}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":159,"column":11},"generated":{"line":156,"column":11}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":159,"column":16},"generated":{"line":156,"column":23}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":160,"column":6},"generated":{"line":157,"column":0}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":160,"column":6},"generated":{"line":157,"column":6}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":160,"column":12},"generated":{"line":157,"column":12}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":160,"column":13},"generated":{"line":157,"column":13}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":160,"column":6},"generated":{"line":157,"column":32}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":160,"column":33},"generated":{"line":157,"column":33}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":160,"column":6},"generated":{"line":157,"column":42}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":160,"column":44},"generated":{"line":157,"column":44}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":160,"column":6},"generated":{"line":157,"column":51}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":161,"column":5},"generated":{"line":158,"column":0}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":159,"column":4},"generated":{"line":158,"column":5}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":162,"column":3},"generated":{"line":159,"column":0}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":154,"column":9},"generated":{"line":159,"column":3}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":154,"column":2},"generated":{"line":159,"column":4}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":163,"column":1},"generated":{"line":160,"column":0}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":150,"column":0},"generated":{"line":162,"column":0}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":150,"column":0},"generated":{"line":162,"column":7}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":150,"column":0},"generated":{"line":162,"column":8}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":150,"column":0},"generated":{"line":162,"column":17}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":150,"column":0},"generated":{"line":162,"column":20}},{"source":"../../../utils/event_emitter.ts","name":null,"original":{"line":150,"column":0},"generated":{"line":162,"column":29}}],"sources":{"../../../utils/event_emitter.ts":"/**\n * Copyright 2015 CANAL+ Group\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  Observable,\n  Observer,\n} from \"rxjs\";\nimport log from \"../log\";\n\nexport interface IEventEmitter<T> {\n  addEventListener<TEventName extends keyof T>(evt : TEventName,\n                                               fn : IListener<T, TEventName>) :\n                                                void;\n  removeEventListener<TEventName extends keyof T>(evt : TEventName,\n                                                  fn : IListener<T, TEventName>) :\n                                                   void;\n  trigger?<TEventName extends keyof T>(evt : TEventName,\n                                       arg : IArgs<T, TEventName>) : void;\n}\n\n// Type of the argument in the listener's callback\ntype IArgs<TEventRecord, TEventName\n     extends keyof TEventRecord> = TEventRecord[TEventName];\n\n// Type of the listener function\ntype IListener<TEventRecord, TEventName\n     extends keyof TEventRecord> = (args: IArgs<TEventRecord, TEventName>) => void;\n\ntype IListeners<TEventRecord> = {\n  [P in keyof TEventRecord]? : Array<IListener<TEventRecord, P>>\n};\n\n/**\n * Simple but fully type-safe EventEmitter implementation.\n * @class EventEmitter\n */\nexport default class EventEmitter<T> implements IEventEmitter<T> {\n  /**\n   * @type {Object}\n   * @private\n   */\n  private _listeners : IListeners<T>;\n\n  constructor() {\n    this._listeners = {};\n  }\n\n  /**\n   * Register a new callback for an event.\n   *\n   * @param {string} evt - The event to register a callback to\n   * @param {Function} fn - The callback to call as that event is triggered.\n   * The callback will take as argument the eventual payload of the event\n   * (single argument).\n   */\n  public addEventListener<TEventName extends keyof T>(\n    evt : TEventName,\n    fn : IListener<T, TEventName>\n  ) : void {\n    const listeners = this._listeners[evt];\n    if (!listeners) {\n      this._listeners[evt] = [fn];\n    } else {\n      listeners.push(fn);\n    }\n  }\n\n  /**\n   * Unregister callbacks linked to events.\n   * @param {string} [evt] - The event for which the callback[s] should be\n   * unregistered. Set it to null or undefined to remove all callbacks\n   * currently registered (for any event).\n   * @param {Function} [fn] - The callback to unregister. If set to null\n   * or undefined while the evt argument is set, all callbacks linked to that\n   * event will be unregistered.\n   */\n  public removeEventListener<TEventName extends keyof T>(\n    evt? : TEventName,\n    fn? : IListener<T, TEventName>\n  ) : void {\n    if (evt == null) {\n      this._listeners = {};\n      return;\n    }\n\n    const listeners = this._listeners[evt];\n    if (!listeners) {\n      return;\n    }\n    if (fn == null) {\n      delete this._listeners[evt];\n      return;\n    }\n\n    const index = listeners.indexOf(fn);\n    if (~index) {\n      listeners.splice(index, 1);\n    }\n\n    if (!listeners.length) {\n      delete this._listeners[evt];\n    }\n  }\n\n  /**\n   * Trigger every registered callbacks for a given event\n   * @param {string} evt - The event to trigger\n   * @param {*} arg - The eventual payload for that event. All triggered\n   * callbacks will recieve this payload as argument.\n   */\n  public trigger<TEventName extends keyof T>(\n    evt : TEventName,\n    arg : IArgs<T, TEventName>\n  ) : void {\n    const listeners = this._listeners[evt];\n    if (!listeners) {\n      return;\n    }\n\n    listeners.slice().forEach((listener) => {\n      try {\n        listener(arg);\n      } catch (e) {\n        log.error(e, e.stack);\n      }\n    });\n  }\n}\n\n/**\n * Simple redefinition of the fromEvent from rxjs to also work on our\n * implementation of EventEmitter with type-checked strings\n * @param {Object} target\n * @param {string} eventName\n * @returns {Observable}\n */\nexport function fromEvent<T, TEventName extends keyof T>(\n  target : IEventEmitter<T>,\n  eventName : TEventName\n) : Observable<IArgs<T, TEventName>> {\n  return new Observable((obs : Observer<IArgs<T, TEventName>>) => {\n    function handler(event : IArgs<T, TEventName>) {\n      obs.next(event);\n    }\n    target.addEventListener(eventName, handler);\n    return () => {\n      target.removeEventListener(eventName, handler);\n    };\n  });\n}\n"},"lineCount":null}},"error":null,"hash":"f205c0fbe03e91bf596ca7b1907f8393","cacheData":{"env":{}}}