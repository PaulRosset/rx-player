{"version":3,"sources":["../../src/rules/requireParam.js"],"names":["rootNamer","desiredRoots","currentIndex","name","idx","incremented","length","base","suffix","shift","jsdoc","utils","context","functionParameterNames","getFunctionParameterNames","preferredTagName","getPreferredTagName","tagName","jsdocParameterNames","getJsdocTagsDeep","shallowJsdocParameterNames","filter","tag","includes","map","avoidDocs","hasTag","autoIncrementBase","checkRestProperty","checkDestructured","checkDestructuredRoots","checkTypesPattern","enableFixer","enableRootFixer","enableRestElementFixer","unnamedRootBase","options","lastSlashPos","lastIndexOf","checkTypesRegex","RegExp","slice","missingTags","flattenedRoots","flattenRoots","names","paramIndex","hasParamIndex","cur","_","has","dropPathSegmentQuotes","String","getParamIndex","setParamIndex","forEach","findExpectedIndex","jsdocTags","indexAtFunctionParams","remainingRoots","foundIndex","findIndex","newAdd","some","remainingRoot","Array","isArray","tags","tagLineCount","source","tokens","end","nextRootName","namer","functionParameterName","functionParameterIdx","inc","matchedJsdoc","rootName","type","search","hasRestElement","hasPropertyRest","rests","notCheckingNames","paramName","find","fpn","emptyParamIdx","push","remove","fullParamName","notCheckingName","paramType","comparePaths","undefined","startsWith","funcParamName","restElement","fix","createTokens","tagIndex","sourceIndex","spliceCount","number","delimiter","description","postDelimiter","postName","postTag","postType","start","splice","firstNumber","src","offset","expectedIdx","fixer","missingTag","reportJSDoc","contextDefaults","meta","docs","url","fixable","schema","additionalProperties","properties","default","checkConstructors","checkGetters","checkSetters","contexts","items","exemptedBy"],"mappings":"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","sourcesContent":["import _ from 'lodash';\nimport iterateJsdoc from '../iterateJsdoc';\n\ntype T = [string, () => T];\nconst rootNamer = (desiredRoots: string[], currentIndex: number): T => {\n  let name;\n  let idx = currentIndex;\n  const incremented = desiredRoots.length <= 1;\n  if (incremented) {\n    const base = desiredRoots[0];\n    const suffix = idx++;\n    name = `${base}${suffix}`;\n  } else {\n    name = desiredRoots.shift();\n  }\n\n  return [name, incremented, () => {\n    return rootNamer(desiredRoots, idx);\n  }];\n};\n\nexport default iterateJsdoc(({\n  jsdoc,\n  utils,\n  context,\n}) => {\n  const functionParameterNames = utils.getFunctionParameterNames();\n  const preferredTagName = utils.getPreferredTagName({tagName: 'param'});\n  if (!preferredTagName) {\n    return;\n  }\n  const jsdocParameterNames = utils.getJsdocTagsDeep(preferredTagName);\n\n  const shallowJsdocParameterNames = jsdocParameterNames.filter((tag) => {\n    return !tag.name.includes('.');\n  }).map((tag, idx) => {\n    return {...tag,\n      idx};\n  });\n\n  if (utils.avoidDocs()) {\n    return;\n  }\n\n  // Param type is specified by type in @type\n  if (utils.hasTag('type')) {\n    return;\n  }\n\n  const {\n    autoIncrementBase = 0,\n    checkRestProperty = false,\n    checkDestructured = true,\n    checkDestructuredRoots = true,\n    checkTypesPattern = '/^(?:[oO]bject|[aA]rray|PlainObject|Generic(?:Object|Array))$/',\n    enableFixer = true,\n    enableRootFixer = true,\n    enableRestElementFixer = true,\n    unnamedRootBase = ['root'],\n  } = context.options[0] || {};\n\n  const lastSlashPos = checkTypesPattern.lastIndexOf('/');\n  const checkTypesRegex = lastSlashPos === -1 ?\n    new RegExp(checkTypesPattern) :\n    new RegExp(checkTypesPattern.slice(1, lastSlashPos), checkTypesPattern.slice(lastSlashPos + 1));\n\n  const missingTags = [];\n  const flattenedRoots = utils.flattenRoots(functionParameterNames).names;\n\n  const paramIndex = {};\n  const hasParamIndex = (cur) => {\n    return _.has(paramIndex, utils.dropPathSegmentQuotes(String(cur)));\n  };\n  const getParamIndex = (cur) => {\n    return paramIndex[utils.dropPathSegmentQuotes(String(cur))];\n  };\n  const setParamIndex = (cur, idx) => {\n    paramIndex[utils.dropPathSegmentQuotes(String(cur))] = idx;\n  };\n  flattenedRoots.forEach((cur, idx) => {\n    setParamIndex(cur, idx);\n  });\n\n  const findExpectedIndex = (jsdocTags, indexAtFunctionParams) => {\n    const remainingRoots = functionParameterNames.slice(indexAtFunctionParams || 0);\n    const foundIndex = jsdocTags.findIndex(({name, newAdd}) => {\n      return !newAdd && remainingRoots.some((remainingRoot) => {\n        if (Array.isArray(remainingRoot)) {\n          return remainingRoot[1].names.includes(name);\n        }\n        if (typeof remainingRoot === 'object') {\n          return name === remainingRoot.name;\n        }\n\n        return name === remainingRoot;\n      });\n    });\n\n    const tags = foundIndex > -1 ?\n      jsdocTags.slice(0, foundIndex) :\n      jsdocTags.filter(({tag}) => {\n        return tag === preferredTagName;\n      });\n\n    let tagLineCount = 0;\n    tags.forEach(({source}) => {\n      source.forEach(({tokens: {end}}) => {\n        if (!end) {\n          tagLineCount++;\n        }\n      });\n    });\n\n    return tagLineCount;\n  };\n\n  let [nextRootName, incremented, namer] = rootNamer([...unnamedRootBase], autoIncrementBase);\n\n  functionParameterNames.forEach((functionParameterName, functionParameterIdx) => {\n    let inc;\n    if (Array.isArray(functionParameterName)) {\n      const matchedJsdoc = shallowJsdocParameterNames[functionParameterIdx] ||\n        jsdocParameterNames[functionParameterIdx];\n\n      let rootName;\n      if (functionParameterName[0]) {\n        rootName = functionParameterName[0];\n      } else if (matchedJsdoc && matchedJsdoc.name) {\n        rootName = matchedJsdoc.name;\n        if (matchedJsdoc.type && matchedJsdoc.type.search(checkTypesRegex) === -1) {\n          return;\n        }\n      } else {\n        rootName = nextRootName;\n        inc = incremented;\n        [nextRootName, incremented, namer] = namer();\n      }\n\n      const {hasRestElement, hasPropertyRest, rests, names} = functionParameterName[1];\n      const notCheckingNames = [];\n      if (!enableRestElementFixer && hasRestElement) {\n        return;\n      }\n\n      if (!checkDestructuredRoots) {\n        return;\n      }\n\n      names.forEach((paramName, idx) => {\n        // Add root if the root name is not in the docs (and is not already\n        //  in the tags to be fixed)\n        if (!jsdocParameterNames.find(({name}) => {\n          return name === rootName;\n        }) && !missingTags.find(({functionParameterName: fpn}) => {\n          return fpn === rootName;\n        })) {\n          const emptyParamIdx = jsdocParameterNames.findIndex(({name}) => {\n            return !name;\n          });\n\n          if (emptyParamIdx > -1) {\n            missingTags.push({\n              functionParameterIdx: emptyParamIdx,\n              functionParameterName: rootName,\n              inc,\n              remove: true,\n            });\n          } else {\n            missingTags.push({\n              functionParameterIdx: hasParamIndex(rootName) ?\n                getParamIndex(rootName) :\n                getParamIndex(paramName),\n              functionParameterName: rootName,\n              inc,\n            });\n          }\n        }\n\n        if (!checkDestructured) {\n          return;\n        }\n\n        if (!checkRestProperty && rests[idx]) {\n          return;\n        }\n\n        const fullParamName = `${rootName}.${paramName}`;\n\n        const notCheckingName = jsdocParameterNames.find(({name, type: paramType}) => {\n          return utils.comparePaths(name)(fullParamName) && paramType.search(checkTypesRegex) === -1 && paramType !== '';\n        });\n\n        if (notCheckingName !== undefined) {\n          notCheckingNames.push(notCheckingName.name);\n        }\n\n        if (notCheckingNames.find((name) => {\n          return fullParamName.startsWith(name);\n        })) {\n          return;\n        }\n\n        if (jsdocParameterNames && !jsdocParameterNames.find(({name}) => {\n          return utils.comparePaths(name)(fullParamName);\n        })) {\n          missingTags.push({\n            functionParameterIdx: getParamIndex(\n              functionParameterName[0] ? fullParamName : paramName,\n            ),\n            functionParameterName: fullParamName,\n            inc,\n            type: hasRestElement && !hasPropertyRest ? '{...any}' : undefined,\n          });\n        }\n      });\n\n      return;\n    }\n    let funcParamName;\n    let type;\n    if (typeof functionParameterName === 'object') {\n      if (!enableRestElementFixer && functionParameterName.restElement) {\n        return;\n      }\n      funcParamName = functionParameterName.name;\n      type = '{...any}';\n    } else {\n      funcParamName = functionParameterName;\n    }\n\n    if (jsdocParameterNames && !jsdocParameterNames.find(({name}) => {\n      return name === funcParamName;\n    })) {\n      missingTags.push({\n        functionParameterIdx: getParamIndex(funcParamName),\n        functionParameterName: funcParamName,\n        inc,\n        type,\n      });\n    }\n  });\n\n  const fix = ({\n    functionParameterIdx, functionParameterName, remove, inc, type,\n  }) => {\n    if (inc && !enableRootFixer) {\n      return;\n    }\n    const createTokens = (tagIndex, sourceIndex, spliceCount) => {\n      // console.log(sourceIndex, tagIndex, jsdoc.tags, jsdoc.source);\n      const tokens = {\n        number: sourceIndex + 1,\n        tokens: {\n          delimiter: '*',\n          description: '',\n          end: '',\n          name: functionParameterName,\n          newAdd: true,\n          postDelimiter: ' ',\n          postName: '',\n          postTag: ' ',\n          postType: type ? ' ' : '',\n          start: jsdoc.source[sourceIndex].tokens.start,\n          tag: `@${preferredTagName}`,\n          type: type ?? '',\n        },\n      };\n      jsdoc.tags.splice(tagIndex, spliceCount, {\n        name: functionParameterName,\n        newAdd: true,\n        source: [tokens],\n        tag: preferredTagName,\n        type: type ?? '',\n      });\n      const firstNumber = jsdoc.source[0].number;\n      jsdoc.source.splice(sourceIndex, spliceCount, tokens);\n      jsdoc.source.slice(sourceIndex).forEach((src, idx) => {\n        src.number = firstNumber + sourceIndex + idx;\n      });\n    };\n    const offset = jsdoc.source.findIndex(({tokens: {tag, end}}) => {\n      return tag || end;\n    });\n    if (remove) {\n      createTokens(functionParameterIdx, offset + functionParameterIdx, 1);\n    } else {\n      const expectedIdx = findExpectedIndex(jsdoc.tags, functionParameterIdx);\n      createTokens(expectedIdx, offset + expectedIdx, 0);\n    }\n  };\n\n  const fixer = () => {\n    missingTags.forEach((missingTag) => {\n      fix(missingTag);\n    });\n  };\n\n  missingTags.forEach(({functionParameterName}) => {\n    utils.reportJSDoc(\n      `Missing JSDoc @${preferredTagName} \"${functionParameterName}\" declaration.`,\n      null,\n      enableFixer ? fixer : null,\n    );\n  });\n}, {\n  contextDefaults: true,\n  meta: {\n    docs: {\n      description: 'Requires that all function parameters are documented.',\n      url: 'https://github.com/gajus/eslint-plugin-jsdoc#eslint-plugin-jsdoc-rules-require-param',\n    },\n    fixable: 'code',\n    schema: [\n      {\n        additionalProperties: false,\n        properties: {\n          autoIncrementBase: {\n            default: 0,\n            type: 'integer',\n          },\n          checkConstructors: {\n            default: true,\n            type: 'boolean',\n          },\n          checkDestructured: {\n            default: true,\n            type: 'boolean',\n          },\n          checkDestructuredRoots: {\n            default: true,\n            type: 'boolean',\n          },\n          checkGetters: {\n            default: false,\n            type: 'boolean',\n          },\n          checkRestProperty: {\n            default: false,\n            type: 'boolean',\n          },\n          checkSetters: {\n            default: false,\n            type: 'boolean',\n          },\n          checkTypesPattern: {\n            type: 'string',\n          },\n          contexts: {\n            items: {\n              type: 'string',\n            },\n            type: 'array',\n          },\n          enableFixer: {\n            type: 'boolean',\n          },\n          enableRestElementFixer: {\n            type: 'boolean',\n          },\n          enableRootFixer: {\n            type: 'boolean',\n          },\n          exemptedBy: {\n            items: {\n              type: 'string',\n            },\n            type: 'array',\n          },\n          unnamedRootBase: {\n            items: {\n              type: 'string',\n            },\n            type: 'array',\n          },\n        },\n        type: 'object',\n      },\n    ],\n    type: 'suggestion',\n  },\n});\n"],"file":"requireParam.js"}